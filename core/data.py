CONSTELLATIONS = {
    "aquarius": {
        "coords": [
            (6.2, 3.05), (7.0, 5.83), (10.0, 6.0), (10.82, 5.33),
            (13.26, 3.79), (2.18, 8.53), (2.92, 9.67), (4.06, 10.13),
            (4.12, 12.85), (8.34, 10.61), (11.84, 11.19), (8.82, 15.95),
        ],
        "desc": "물병자리 \n독창성과 사고를 상징하며, 기존 틀에 얽매이지 않는 별자리\n가을에서 겨울 사이 밤하늘에 잘 보이며, 남쪽 하늘에서 관측된다"
    },

    "capricorn": {
        "coords": [
            (3.0, 3.0), (3.20, 4.29), (5.0, 4.0), (7.82, 4.45),
            (4.88, 6.49), (6.34, 8.43), (10.22, 6.15),
            (12.14, 7.09), (12.18, 8.45), (9.14, 16.67), (9.0, 18.0),
        ],
        "desc": "염소자리 \n책임감과 성취를 중시하며 목표 지향적인 별자리\n가을 밤 남쪽 하늘에서 관측되며, 늦가을에 가장 잘 보인다"
    },

    "sagittarius": {
        "coords": [
            (6.60, 2.53), (9.28, 1.99), (8.76, 3.93), (5.0, 5.0),
            (2.64, 9.01), (2.78, 9.99), (5.12, 12.29), (9.0, 11.0),
            (10.0, 10.0), (10.68, 11.99), (11.84, 11.85),
            (14.14, 12.79), (15.26, 10.71), (14.76, 9.03),
            (15.78, 7.93), (17.46, 10.47), (17.32, 9.95),
            (20.30, 12.27), (15.54, 16.09), (10.0, 16.0),
            (9.0, 15.0), (8.00, 15.15), (5.68, 16.55),
        ],
        "desc": "사수자리 \n자유와 탐험을 상징하며 새로운 경험을 추구하는 별자리\n여름부터 초가을 사이 남쪽 하늘 낮은 위치에서 관측된다"
    },

    "scorpio": {
        "coords": [
            (4.63, 3.22), (7.0, 3.0), (3.09, 4.75), (3.98, 5.67),
            (5.07, 6.86), (9.13, 3.51), (9.60, 5.50),
            (10.08, 7.80), (11.90, 10.55), (12.50, 11.20),
            (13.83, 11.92), (16.57, 11.35), (16.46, 12.96),
            (16.09, 14.53), (16.40, 9.54),
        ],
        "desc": "전갈자리 \n깊은 감정과 강한 집중력을 지닌 별자리\n여름 밤 남쪽 하늘에서 뚜렷하게 관측되며 중심부에 위치한다"
    },

    "libra": {
        "coords": [
            (7.13, 1.84), (7.11, 3.17), (10.91, 5.51), (2.12, 9.15),
            (4.0, 10.0), (5.0, 11.0), (6.91, 15.17), (11.45, 11.92),
        ],
        "desc": "천칭자리 \n균형과 조화를 중시하며 관계를 중요하게 여기는 별자리\n봄에서 초여름 사이 서쪽 하늘에서 관측된다"
    },

    "virgo": {
        "coords": [
            (7.37, 2.47), (4.0, 4.0), (5.99, 7.45), (8.79, 4.77),
            (9.84, 4.32), (7.95, 9.21), (10.67, 10.08),
            (11.98, 7.85), (8.0, 13.0), (10.33, 13.41),
            (5.0, 14.0), (11.07, 15.81), (11.0, 19.0),
        ],
        "desc": "처녀자리 \n분석적이고 세밀하며 정리를 잘하는 별자리\n봄철 밤하늘 남쪽에서 관측되며 은하수 인근에 위치한다"
    },

    "leo": {
        "coords": [
            (3.0, 3.0), (5.33, 5.57), (3.52, 7.82),
            (6.83, 14.29), (8.0, 13.0), (10.51, 13.17),
            (12.31, 11.60),
        ],
        "desc": "사자자리 \n자신감과 리더십을 상징하며 존재감이 강한 별자리\n봄에서 여름 초입 밤하늘 남쪽에서 잘 보인다"
    },

    "cancer": {
        "coords": [
            (7.30, 3.36), (7.30, 8.94), (6.79, 10.26),
            (4.0, 14.0), (15.0, 6.0),
        ],
        "desc": "게자리 \n보호와 감정을 상징하며 가족과 유대를 중시하는 별자리\n봄밤 서쪽 하늘에서 관측되며 비교적 어두운 별자리다"
    },

    "gemini": {
        "coords": [
            (2.33, 9.51), (2.14, 11.39), (4.07, 14.49),
            (5.24, 14.45), (7.16, 13.97), (6.0, 8.0),
            (12.85, 10.68), (15.69, 9.71), (17.52, 9.69),
            (14.0, 5.0), (13.0, 2.0),
        ],
        "desc": "쌍둥이자리 \n소통과 변화에 능하며 호기심이 많은 별자리\n겨울에서 봄 사이 밤하늘 동쪽에서 관측된다"
    },

    "taurus": {
        "coords": [
            (15.14, 2.37), (14.89, 3.14), (11.0, 6.0), (9.0, 8.0),
            (8.02, 8.45), (7.0, 9.0), (8.20, 9.45),
            (8.98, 9.28), (7.45, 12.07), (2.24, 13.07),
            (4.97, 16.12),
        ],
        "desc": "황소자리 \n안정과 인내를 상징하며 현실적인 성향의 별자리\n겨울 밤 동쪽 하늘에서 관측되며 플레이아데스 성단이 포함된다"
    },

    "aries": {
        "coords": [
            (3.13, 10.77), (10.53, 8.56), (14.0, 7.0), (14.32, 5.00),
        ],
        "desc": "양자리 \n시작과 도전을 상징하며 에너지가 넘치는 별자리\n가을 밤 동쪽 하늘에서 관측되며 비교적 작은 별자리다"
    },

    "pisces": {
        "coords": [
            (2.42, 4.15), (4.0, 3.0), (5.14, 4.45), (9.27, 4.45),
            (12.47, 4.39), (15.47, 3.86), (13.10, 6.20),
            (11.08, 8.47), (10.36, 10.19), (8.72, 14.62),
            (9.59, 16.23), (8.05, 16.50), (10.14, 17.30),
            (10.0, 19.0), (8.29, 19.69), (7.38, 18.85), (7.04, 17.55),
        ],
        "desc": "물고기자리 \n감성과 직관이 뛰어나며 공감 능력이 강한 별자리\n가을 밤 남쪽 하늘에서 관측되며 밝지 않은 별들이 모여 있다"
    },

    "famous_orion": {
        "coords": [
            (4.77, 1.21), (9.73, 2.15), (5.83, 5.83), (6.41, 6.20),
            (7.05, 6.78), (7.99, 10.70), (12.0, 8.0), (12.71, 8.36),
            (12.90, 10.30), (13.10, 11.12), (12.87, 12.19),
            (12.26, 12.91), (6.52, 12.75), (3.51, 11.18),
            (2.61, 12.58), (1.25, 15.24), (1.98, 15.50),
            (2.52, 18.35), (3.87, 19.78),
        ],
        "desc": "오리온자리 \n삼태성이 특징인 대표적인 겨울 별자리\n겨울 밤 남쪽 하늘에서 매우 뚜렷하게 관측된다"
    },

    "famous_canis_major": {
        "coords": [
            (8.06, 2.22), (3.71, 5.28), (5.12, 8.17), (5.62, 9.25),
            (5.77, 11.03), (4.74, 11.62), (2.07, 11.79),
            (8.79, 9.87), (11.69, 7.36), (14.12, 9.44),
            (16.53, 7.77), (14.78, 12.11), (13.46, 13.63),
            (13.30, 15.67), (17.06, 15.63),
        ],
        "desc": "큰개자리 \n시리우스를 포함한 가장 밝은 별자리가 있는 영역\n겨울 밤 남동쪽 하늘에서 관측되며 시리우스가 가장 눈에 띈다"
    },

    "famous_ursa_major": {
        "coords": [
            (15.75, 2.04), (16.03, 2.86), (12.00, 3.29), (9.54, 5.11),
            (9.34, 8.11), (8.65, 9.91), (12.69, 8.92),
            (12.51, 11.37), (6.22, 10.13), (4.69, 10.70),
            (2.89, 9.26), (16.29, 10.70), (16.75, 8.28),
            (18.14, 7.59), (20.84, 6.95), (20.83, 6.56),
            (16.62, 12.79), (19.80, 13.18),
        ],
        "desc": "큰곰자리 \n북두칠성을 포함해 방향 찾기에 사용된 별자리\n사계절 내내 북쪽 하늘에서 관측 가능하다"
    },

    "famous_cassiopeia": {
        "coords": [
            (10.70, 2.72), (8.26, 7.39), (14.70, 6.32),
            (4.47, 6.97), (1.72, 11.70),
        ],
        "desc": "카시오페아자리 \nW자 형태로 쉽게 구분되는 북쪽 별자리\n사계절 내내 북쪽 하늘에서 관측된다"
    },

    "famous_centaurus": {
        "coords": [
            (6.39, 2.22), (8.63, 3.07), (10.08, 7.45),
            (8.51, 11.11), (8.75, 14.26), (8.69, 14.66),
            (4.36, 13.42), (2.01, 12.66), (15.0, 10.0),
            (16.0, 9.0), (17.01, 7.37), (17.50, 8.21),
            (20.38, 4.55), (18.01, 0.82),
        ],
        "desc": "센타우르스자리. \n남반구의 큰 별자리로 반인반마 형상의 별자리\n봄에서 여름 사이 남쪽 하늘 낮은 위치에서 관측된다"
    },
}



ALIASES = {
    "양자리": "aries",
    "황소자리": "taurus",
    "쌍둥이자리": "gemini",
    "게자리": "cancer",
    "사자자리": "leo",
    "처녀자리": "virgo",
    "천칭자리": "libra",
    "전갈자리": "scorpio",
    "사수자리": "sagittarius",
    "염소자리": "capricorn",
    "물병자리": "aquarius",
    "물고기자리": "pisces",

    "카시오페이아자리": "famous_cassiopeia",
    "큰곰자리": "famous_ursa_major",
    "오리온자리": "famous_orion",
    "큰개자리": "famous_canis_major",
    "센타우르스자리": "famous_centaurus",
}


def get_constellation(name: str):
    key = name.strip().lower()

    if name.strip() in ALIASES:
        key = ALIASES[name.strip()]

    if key not in CONSTELLATIONS:
        return None, None

    data = CONSTELLATIONS[key]
    return data["coords"], data["desc"]


def zodiac_from_birthday(month: int, day: int):
    zodiac_dates = [
        ((3, 21), (4, 19), "aries"),
        ((4, 20), (5, 20), "taurus"),
        ((5, 21), (6, 20), "gemini"),
        ((6, 21), (7, 22), "cancer"),
        ((7, 23), (8, 22), "leo"),
        ((8, 23), (9, 22), "virgo"),
        ((9, 23), (10, 22), "libra"),
        ((10, 23), (11, 21), "scorpio"),
        ((11, 22), (12, 21), "sagittarius"),
        ((12, 22), (1, 19), "capricorn"),
        ((1, 20), (2, 18), "aquarius"),
        ((2, 19), (3, 20), "pisces"),
    ]

    for (m1, d1), (m2, d2), sign in zodiac_dates:
        if (month == m1 and day >= d1) or (month == m2 and day <= d2):
            return sign

    return None
